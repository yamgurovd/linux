# Внимание!

Все команды, написанные в видео, доступны здесь: https://github.com/artemonsh/backend-course/blob/main/docs/docker.md
Docker и контейнеризация

Если мы хотим, чтобы приложение, которое работает локально на нашем компьютере, также хорошо работало на любом удаленном
сервере, стоит воспользоваться технологией контейнеризации Docker.

Он позволяет создавать контейнеры, автоматизировать их запуск и развертывание, управляет жизненным циклом. С помощью
Docker можно запускать множество контейнеров на одной хост-машине, причем они не будут конфликтовать друг с другом, так
как у каждого контейнера будет свое "окружение": своя версия Python и свои версии библиотек.

Контейнеры упрощают развертывание приложений. В классическом подходе для установки программы нужно совершить несколько
действий: выполнить скрипт, изменить файлы настроек и так далее. В этом процессе не исключена вероятность человеческой
ошибки: пользователь запустит скрипт два раза, перепутает последовательность или что-то не поймет. Контейнеры позволяют
полностью автоматизировать этот процесс, так как включают в себя все нужные зависимости и порядок выполнения действий.

Также контейнеры упрощают развертывание на нескольких серверах. В классическом подходе для того, чтобы развернуть одно и
то же приложение на нескольких машинах, нужно будет повторять одни и те же действия. Контейнеры избавляют от этой
рутинной работы и позволяют автоматизировать развертывание.

## Образы и контейнеры

Вы будете работать с образами и контейнерами постоянно, поэтому важно понимать, что есть что.

Образ — это собственно наше приложение, собранное в некую коробку с конкретными зависимостями и собственной файловой
системой, где находятся все файлы. Для создания образа обычно требуется язык программирования, на котором строится
приложение, например, Python, причем язык/платформа для разработки обычно занимает львиную долю памяти в образе.

Контейнер — это запущенный образ. Причем при запуске контейнера обычно конфигурируется работа приложения: с какими
настройками мы хотим его запустить, на каком порту оно будет работать, в какой среде будет работать приложение —
тестовой или продовой (продакшн/production), какой уровень логирования будет у приложения и т.д. Имея в руках образ, мы
можем запустить на его основании несколько контейнеров одновременно, например, один для тестовой среды, а другой для
продовой. Или же развернуть целый набор контейнеров на нескольких серверах через Kubernetes. Впрочем, это уже отдельная
тема.

## Команды Docker

После написания Dockerfile для создания образа необходимо, находясь в директории с файлом Dockerfile, в терминале
запустить команду:

```shell
docker build .
```

После построения образа в терминале будет выведен хэш — название контейнера.
Для запуска образа в контейнере необходимо прописать команду:

```shell
docker run -p 1234:8000 2f00557c8d5e
```

Эта команда запустит образ 2f00557c8d5e и создаст контейнер с приложением. Под приложением здесь имеется в виду наш API,
но в действительности может быть любым приложением (базой, Redis, фронтенд и т.д.).
