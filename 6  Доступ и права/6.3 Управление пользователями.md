# 6.3 Управление пользователями

---
## Конспект


### Команды которые использовались
| Команда                                                                  | Описание и пример использования                                                                         |
|--------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------|
| `sudo useradd andreyex`                                                  | Создание пользователя без домашнего каталога и пароля:                                                 |
|                                                                          | `sudo useradd andreyex`                                                                                 |
| `sudo useradd -m andreyex`                                               | Создание пользователя с домашним каталогом:                                                            |
|                                                                          | `sudo useradd -m andreyex`                                                                              |
| `sudo useradd -m -d /data/andreyex andreyex`                            | Создание пользователя с указанным домашним каталогом:                                                  |
|                                                                          | `sudo useradd -m -d /data/andreyex andreyex`                                                          |
| `sudo useradd -m -g developers destroyer`                               | Создание пользователя с основной группой developers:                                                  |
|                                                                          | `sudo useradd -m -g developers destroyer`                                                             |
| `sudo useradd -m -G developers,users destroyer`                         | Добавление пользователя в несколько дополнительных групп:                                             |
|                                                                          | `sudo useradd -m -G developers,users destroyer`                                                       |
| `sudo passwd andreyex`                                                   | Назначение пароля пользователю andreyex после создания учетной записи:                                 |
|                                                                          | `sudo passwd andreyex`                                                                                  |
| `sudo usermod -aG sudo andreyex`                                        | Добавление пользователя andreyex в группу sudo для админских прав:                                     |
|                                                                          | `sudo usermod -aG sudo andreyex`                                                                       |
| `sudo usermod -d /newhome/andreyex -m andreyex`                         | Перенос домашнего каталога пользователя andreyex на новое место с копированием содержимого:           |
|                                                                          | `sudo usermod -d /newhome/andreyex -m andreyex`                                                        |
| `sudo userdel -r andreyex`                                              | Удаление пользователя andreyex вместе с домашним каталогом и почтой (если указана):                     |
|                                                                          | `sudo userdel -r andreyex`                                                                              |
| `sudo groupadd developers`                                               | Создание новой группы developers:                                                                       |
|                                                                          | `sudo groupadd developers`                                                                              |
| `sudo groupmod -n devteam developers`                                  | Переименование группы developers в devteam:                                                          |
|                                                                          | `sudo groupmod -n devteam developers`                                                                   |
| `sudo groupdel devteam`                                                 | Удаление группы devteam:                                                                                |
|                                                                          | `sudo groupdel devteam`                                                                                  |
| `id andreyex`                                                           | Проверка UID, GID и групп пользователя andreyex:                                                      |
|                                                                          | `id andreyex`                                                                                             |
| `groups andreyex`                                                       | Вывод всех групп, в которых состоит пользователь andreyex:                                           |
|                                                                          | `groups andreyex`                                                                                         |
| `lastlog`                                                              | Проверка времени последнего входа всех пользователей:                                                 |
|                                                                          | `lastlog`                                                                                                |


1. Добавление пользователя:

![BPMN-схема бизнес-процесса](/6%20%20Доступ%20и%20права/User.png)


- Команды: useradd и adduser (фронтенд для useradd).
- useradd <имя пользователя> - создает нового пользователя с автоматически назначенными UID и GID, домашним каталогом и Shell по умолчанию.
- Пример: Создание пользователя Diego.
2. Установка пароля:

- Команда: passwd <имя пользователя>.
- Позволяет установить пароль пользователя.
- Пользователи могут изменить свой пароль, используя команду passwd без аргументов.
3. Настраиваемые параметры useradd:

- -c – комментарий/описание учетной записи.
- -d – путь к домашнему каталогу.
- -e – дата истечения срока действия учетной записи.
- -u – пользовательский UID.
- -g – пользовательский GID.
- -G – добавляет пользователя в дополнительные группы.
- -s – указывает оболочку.
- -A – создает системную учетную запись.
4. Создание пользователя с настраиваемыми параметрами:

- Пример: Создание пользователя Алена с кастомным GID и добавлением в группу Developers.
5. Проверка установленных полей:

![BPMN-схема бизнес-процесса](/6%20%20Доступ%20и%20права/User2.png)

- Использование команды id <имя пользователя> для проверки UID и GID.
- Проверка файла /etc/passwd для подтверждения установленных параметров.
6. Удаление пользователей и управление группами:

![BPMN-схема бизнес-процесса](/6%20%20Доступ%20и%20права/User3.png)

- Удаление пользователя: userdel <имя пользователя>.
- Добавление группы: groupadd -g <GID> <имя группы>.
- Удаление группы: groupdel <имя группы>.


---