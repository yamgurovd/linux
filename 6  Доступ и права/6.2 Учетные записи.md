# 6.2 Учетные записи

---
## Конспект

#### Команды которые использовались и актуальные 

| Команда                      | Результат / Описание                                               | Пояснение                                                                                          |
|------------------------------|-------------------------------------------------------------------|---------------------------------------------------------------------------------------------------|
| `cat /etc/group`             | Просмотр содержимого файла /etc/group                             | Показывает группы пользователей с их GID и списком участников группы                              |
| `cat /etc/passwd`            | Просмотр содержимого файла /etc/passwd                            | Содержит информацию о всех пользователях системы (UID, домашняя директория, shell и т.д.)         |
| `id d`                      | Показать UID, GID и группы пользователя с именем `d`             | Отображает id пользователя и его группы                                                          |
| `grep -i d /etc/passwd`      | Поиск строк с буквой `d` в /etc/passwd                            | Поиск пользователя или строк с символом `d` в файле пользователей                                 |
| `who`                        | Показать кто сейчас вошёл в систему                               | Отображает список вошедших пользователей, время и терминал                                      |
| `w`                          | Расширенная информация о вошедших пользователях                  | Показ времени входа, активности и запущенных задач пользователей                                 |
| `last`                       | История последних входов в систему                                | Показывает список последних сессий пользователей                                                |
| `su -`                       | Переключение на пользователя root с полной инициализацией среды  | Позволяет войти в систему под root (если есть пароль root)                                      |
| `su -c "whoami"`             | Выполнение команды `whoami` от имени root                         | Запуск одиночной команды под другим пользователем                                                |
| `cat /etc/sudoers`           | Просмотр содержимого файла /etc/sudoers                          | Файл с настройками sudo, определяющий кто и какие команды может выполнить с привилегиями         |
| `id username`                | Информация о пользователе `username`                              | Показывает UID, GID и группы пользователя `username`                                            |
| `getent passwd username`     | Получение информации о пользователе из системной базы            | Аналог `grep username /etc/passwd`, поддерживает системы с LDAP                                 |
| `getent group groupname`     | Информация о группе `groupname`                                   | Получение сведений о группе (GID, список пользователей)                                          |
| `groups username`            | Список групп пользователя `username`                             | Показывает все группы, к которым относится пользователь                                         |
| `whoami`                    | Показывает имя текущего пользователя                             | Полезно для проверки от имени какого пользователя выполнена команда                             |
| `users`                     | Показать всех вошедших пользователей                             | Выводит краткий список имен пользователей, которые сейчас в системе                             |
| `su - username`              | Переключение на пользователя `username`                          | Позволяет войти под другим пользователем (требует пароль или sudo)                              |
| `sudo -i`                   | Получение интерактивного root shell                              | Альтернатива входу по `su -`, но через sudo                                                     |
| `sudo command`              | Запуск команды с повышенными правами                             | Позволяет выполнять команды с правами суперпользователя, если разрешено в sudoers               |
| `visudo`                   | Безопасное редактирование файла /etc/sudoers                    | Редактирует конфигурацию sudoers с проверкой синтаксиса                                         |
| `passwd username`           | Изменение пароля пользователя `username`                         | Позволяет сменить пароль пользователя                                                           |
| `useradd username`          | Создание нового пользователя                                     | Создаёт учетную запись пользователя (не всегда настраивает домашний каталог автоматически)      |
| `usermod -aG group username`| Добавить пользователя `username` в группу `group`                | Позволяет добавить пользователя в дополнительную группу                                        |
| `userdel username`          | Удаление пользователя `username`                                | Удаляет учетную запись пользователя                                                            |
| `groupadd groupname`        | Создать новую группу                                            | Создаёт новую группу с заданным именем                                                        |
| `groupdel groupname`        | Удалить группу                                                 | Удаляет существующую группу                                                                    |



1. Введение:

<details> <summary style=" 
          display: inline-block; 
          padding: 4px 12px; 
          background-color: #1976d2; 
          color: white; font-weight: bold; border-radius: 6px; 
          cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.15); 
          transition: background-color 0.3s; font-size: 14px; 
          margin: 0 auto; text-align: center;" 
          onmouseover="this.style.backgroundColor='#1565c0'" 
          onmouseout="this.style.backgroundColor='#1976d2'" > 
          Показать/скрыть картинку </summary> <div style="text-align: center; margin-top: 10px;"> 
          <img src="/6  Доступ и права/Acc.png" alt="Dbeaver" style="display: block; 
          margin: 0 auto; max-width: 90%; height: auto;"> </div> 
</details>


- Безопасность в Linux охватывает множество аспектов, включая контроль доступа, аутентификацию, PAM, сетевую безопасность и SSH-hardening.
- Важность управления учетными записями для обеспечения безопасной работы системы.
2. Учетные записи пользователей:

<details> <summary style=" 
          display: inline-block; 
          padding: 4px 12px; 
          background-color: #1976d2; 
          color: white; font-weight: bold; border-radius: 6px; 
          cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.15); 
          transition: background-color 0.3s; font-size: 14px; 
          margin: 0 auto; text-align: center;" 
          onmouseover="this.style.backgroundColor='#1565c0'" 
          onmouseout="this.style.backgroundColor='#1976d2'" > 
          Показать/скрыть картинку </summary> <div style="text-align: center; margin-top: 10px;"> 
          <img src="/6  Доступ и права/Acc1.png" alt="Dbeaver" style="display: block; 
          margin: 0 auto; max-width: 90%; height: auto;"> </div> 
</details>

- Каждый пользователь обладает уникальной учетной записью с UID.
- Информация о пользователях хранится в файле /etc/passwd.
- Группы объединяют пользователей по ролям или функциям, с информацией, хранящейся в файле /etc/group.
3. Типы учетных записей:

<details> <summary style=" 
          display: inline-block; 
          padding: 4px 12px; 
          background-color: #1976d2; 
          color: white; font-weight: bold; border-radius: 6px; 
          cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.15); 
          transition: background-color 0.3s; font-size: 14px; 
          margin: 0 auto; text-align: center;" 
          onmouseover="this.style.backgroundColor='#1565c0'" 
          onmouseout="this.style.backgroundColor='#1976d2'" > 
          Показать/скрыть картинку </summary> <div style="text-align: center; margin-top: 10px;"> 
          <img src="/6  Доступ и права/Acc3.png" alt="Dbeaver" style="display: block; 
          margin: 0 auto; max-width: 90%; height: auto;"> </div> 
</details>

- Учетная запись суперпользователя (root) с UID 0 имеет полный доступ к системе.
- Системные аккаунты создаются при установке ОС и используются программным обеспечением.
- Учетные записи служб создаются при установке определенных служб.
4. Команды для управления и мониторинга учетных записей:

<details> <summary style=" 
          display: inline-block; 
          padding: 4px 12px; 
          background-color: #1976d2; 
          color: white; font-weight: bold; border-radius: 6px; 
          cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.15); 
          transition: background-color 0.3s; font-size: 14px; 
          margin: 0 auto; text-align: center;" 
          onmouseover="this.style.backgroundColor='#1565c0'" 
          onmouseout="this.style.backgroundColor='#1976d2'" > 
          Показать/скрыть картинку </summary> <div style="text-align: center; margin-top: 10px;"> 
          <img src="/6  Доступ и права/Acc4.png" alt="Dbeaver" style="display: block; 
          margin: 0 auto; max-width: 90%; height: auto;"> </div> 
</details>


- id для просмотра информации о пользовательской учетной записи.
- who, w, и last для мониторинга активности пользователей.
- Переключение между пользователями через su и sudo.
5. Использование sudo для повышения привилегий:

<details> <summary style=" 
          display: inline-block; 
          padding: 4px 12px; 
          background-color: #1976d2; 
          color: white; font-weight: bold; border-radius: 6px; 
          cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.15); 
          transition: background-color 0.3s; font-size: 14px; 
          margin: 0 auto; text-align: center;" 
          onmouseover="this.style.backgroundColor='#1565c0'" 
          onmouseout="this.style.backgroundColor='#1976d2'" > 
          Показать/скрыть картинку </summary> <div style="text-align: center; margin-top: 10px;"> 
          <img src="/6  Доступ и права/Acc6.png" alt="Dbeaver" style="display: block; 
          margin: 0 auto; max-width: 90%; height: auto;"> </div> 
</details>



- sudo позволяет пользователям выполнять команды от имени другого пользователя, преимущественно суперпользователя.
- Конфигурация sudo определяется в файле /etc/sudoers.
- Рекомендуется использовать sudo для повышения привилегий вместо прямого входа в систему как root.
6. Файл sudoers:

<details> <summary style=" 
          display: inline-block; 
          padding: 4px 12px; 
          background-color: #1976d2; 
          color: white; font-weight: bold; border-radius: 6px; 
          cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.15); 
          transition: background-color 0.3s; font-size: 14px; 
          margin: 0 auto; text-align: center;" 
          onmouseover="this.style.backgroundColor='#1565c0'" 
          onmouseout="this.style.backgroundColor='#1976d2'" > 
          Показать/скрыть картинку </summary> <div style="text-align: center; margin-top: 10px;"> 
          <img src="/6  Доступ и права/Acc7.png" alt="Dbeaver" style="display: block; 
          margin: 0 auto; max-width: 90%; height: auto;"> </div> 
</details>

- Синтаксис и структура файла /etc/sudoers.
- Привилегии и ограничения, которые можно назначить пользователям и группам через этот файл.

---