# 6.10 Упражнение - Пользователи и SSH

---
## Конспект

### Команды которые использовались
| Команда                                      | Описание и пример использования                                                                                                                             |
|----------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `id`                                         | Отображение UID, GID и групп пользователя.                                                                                                                  |
|                                              | Пример: `id`                                                                                                                                                |
| `cat /etc/passwd \| grep 1001`                | Поиск в файле `/etc/passwd` строки, содержащей UID или GID 1001.                                                                                            |
|                                              | Пример: `cat /etc/passwd \| grep 1001`                                                                                                                     |
| `sudo grep %sudo /etc/sudoers`                | Просмотр строк, связанных с группой sudo, в файле sudoers для настройки sudo прав.                                                                          |
|                                              | Пример: `sudo grep %sudo /etc/sudoers`                                                                                                                    |
| `sudo useradd diego`                          | Создание нового пользователя с именем diego.                                                                                                               |
|                                              | Пример: `sudo useradd diego`                                                                                                                               |
| `sudo passwd diego`                           | Установка или изменение пароля для пользователя diego.                                                                                                     |
|                                              | Пример: `sudo passwd diego`                                                                                                                                |
| `ls -al /home/d/tmp`                          | Просмотр подробного списка содержимого каталога /home/d/tmp.                                                                                              |
|                                              | Пример: `ls -al /home/d/tmp`                                                                                                                               |
| `chmod go-w /home/d/tmp`                      | Удаление права на запись для групп и остальных пользователей в каталоге /home/d/tmp.                                                                        |
|                                              | Пример: `chmod go-w /home/d/tmp`                                                                                                                           |
| `chmod g+w, o-rwx /home/d/tmp`                | Добавление права на запись для группы и удаление всех прав для остальных пользователей в каталоге /home/d/tmp.                                              |
|                                              | Пример: `chmod g+w, o-rwx /home/d/tmp`                                                                                                                     |
| `sudo chown pollme /home/d/tmp`                | Смена владельца каталога /home/d/tmp на пользователя pollme.                                                                                               |
|                                              | Пример: `sudo chown pollme /home/d/tmp`                                                                                                                    |
| `sudo chown -R pollme /home/d/tmp`             | Рекурсивная смена владельца каталога /home/d/tmp и его содержимого на пользователя pollme.                                                                 |
|                                              | Пример: `sudo chown -R pollme /home/d/tmp`                                                                                                                 |
| `chmod 100 /home/d/tmp`                        | Установка прав доступа на 100 (исполнение только владельцем) для каталога /home/d/tmp.                                                                     |
|                                              | Пример: `chmod 100 /home/d/tmp`                                                                                                                           |
| `chmod 755 ~/tmp`                              | Установка прав доступа 755 (чтение, запись, исполнение для владельца; чтение и исполнение для группы и остальных) для каталога tmp в домашнем каталоге.   |
|                                              | Пример: `chmod 755 ~/tmp`                                                                                                                                  |
| `sudo find /var/log -perm -g=w`                | Поиск файлов в /var/log с правом записи для группы.                                                                                                        |
|                                              | Пример: `sudo find /var/log -perm -g=w`                                                                                                                    |
| `sudo find /var/log -perm -g=w ! -perm /u=rwx` | Поиск файлов в /var/log с правом записи для группы, но без всех прав владельца (чтение, запись, исполнение).                                                |
|                                              | Пример: `sudo find /var/log -perm -g=w ! -perm /u=rwx`                                                                                                    |
| `ssh-copy-id max@s01`                          | Копирование SSH-ключа для доступа к серверу s01 пользователем max.                                                                                        |
|                                              | Пример: `ssh-copy-id max@s01`                                                                                                                             |
| `scp manifesto.tar.gz ws01:home/d/`            | Копирование файла manifesto.tar.gz на сервер ws01 в каталог home/d/.                                                                                       |
|                                              | Пример: `scp manifesto.tar.gz ws01:home/d/`                                                                                                               |



### Основные команды и практики для работы с Linux и управления пользователями и группами.

#### 1. Создание и Управление Пользователями
1. Проверка пользователя:
- Узнать UID пользователя: используем команду id.
- Полное имя пользователя находим в файле паролей, выделяем строки, связанные с UID пользователя.
2. Принадлежность к группам:
- Основная и дополнительные группы.
- Уровень доступа к sudo: проверяем файл /etc/sudoers.
3. Управление Файловыми Правами и Владельцами
1. Разрешения на файлы:
- Проверка и изменение владельца файла и группы.
- Установка и изменение прав доступа файлов: чтение, запись, выполнение.
2. Создание нового пользователя:
- Простые шаги для добавления нового пользователя и установки пароля.
4. Работа с Файлами и Каталогами
1. Управление доступом к файлам:
- Ограничение и расширение доступа к файлу для различных групп.
- Изменение владельца и группы файлов и каталогов, в том числе рекурсивно.
2. Манипуляция с разрешениями каталогов:
- Создание каталога с определёнными правами.
- Изменение прав доступа с использованием числовой и символьной нотации.

---