# 7.2 Основы сети

---

## Конспект

#### Популярные сетевые команды

| Команда                                         | Результат / Описание                                                    | Пояснение и пример использования                                                                                   |
|------------------------------------------------|------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------|
| `ip link`                                      | Просмотр всех сетевых интерфейсов                                     | Команда показывает все сетевые интерфейсы и их состояние. Например, `eth0`, `lo`.                                    |
| `ip addr add 192.168.1.10/24 dev eth0`        | Назначение IP-адреса 192.168.1.10 с маской 255.255.255.0 интерфейсу eth0| Устанавливает локальный IP; полезно при настройке статического адреса: `ip addr add 192.168.1.10/24 dev eth0`          |
| `ip addr show dev eth0`                        | Показать IP-адреса конкретного интерфейса eth0                        | Проверить, какие адреса назначены интерфейсу: `ip addr show dev eth0`                                               |
| `ping 192.168.1.11`                            | Проверка доступности хоста с IP 192.168.1.11                          | Отправка ICMP-запросов для проверки сетевого соединения: `ping 192.168.1.11`                                        |
| `route`                                        | Просмотр таблицы маршрутизации (устаревшая команда)                   | Для быстрой проверки маршрутов в старых системах: `route`                                                           |
| `ip route`                                     | Просмотр таблицы маршрутизации                                        | Современный способ увидеть маршруты. Например, `ip route` выдаст маршруты с сетями и шлюзами                         |
| `ip route add 192.168.2.0/24 via 192.168.1.1` | Добавление маршрута к сети 192.168.2.0 через шлюз 192.168.1.1          | В системе настроен маршрут в другую подсеть через указанный шлюз. Например: `ip route add 192.168.2.0/24 via 192.168.1.1` |
| `ip route add default via 192.168.2.1`         | Назначить шлюз по умолчанию (default gateway) 192.168.2.1              | Настроить маршрут по умолчанию для доступа в интернет: `ip route add default via 192.168.2.1`                         |
| `clear`                                        | Очистить экран терминала                                              | Просто убирает весь вывод из терминала для удобства                                                                   |
| `ip link set eth0 up`                          | Включение сетевого интерфейса eth0                                   | Активировать интерфейс: полезно при изменении конфигурации или после отключения                                      |
| `ip link set eth0 down`                        | Отключение сетевого интерфейса eth0                                  | Отключить интерфейс, например для временной деактивации или диагностики                                             |
| `ethtool eth0`                                 | Посмотреть параметры интерфейса eth0                                 | Вывести техническую информацию: скорость, режим дуплекса, настройки автосогласования                                 |
| `nslookup google.com`                          | Получить IP-адрес домена google.com                                  | Проверить, как разрешается доменное имя, например: `nslookup google.com`                                            |
| `traceroute 8.8.8.8`                           | Проследить маршрут до IP 8.8.8.8                                     | Показать, через какие хосты проходит пакет до Google DNS сервера                                                   |
| `netstat -rn`                                  | Показать таблицу маршрутизации с номерами                            | Показать маршруты с IP в числовом виде, без перевода имен интерфейсов                                               |



1. Введение

![BPMN-схема бизнес-процесса](/7%20%20Сеть%20в%20Linux/Inet.png)

- Сеть позволяет связывать между собой различные устройства, например, компьютеры, ноутбуки, виртуальные машины.
2. Подключение систем

![BPMN-схема бизнес-процесса](/7%20%20Сеть%20в%20Linux/Inet2.png)

- Для соединения двух и более систем требуется сетевой интерфейс (физический или виртуальный).
- Команда для просмотра интерфейсов: ip link.
- Для установления сетевой связи используются коммутаторы (свитчи), к которым подключаются интерфейсы систем.
3. IP-адресация и коммуникация

![BPMN-схема бизнес-процесса](/7%20%20Сеть%20в%20Linux/Inet3.png)

- Системам назначаются IP-адреса (напр., 192.168.1.x), позволяющие им общаться между собой через коммутатор.
- Для тестирования связи между системами применяется команда ping.
4. Связь между различными сетями

![BPMN-схема бизнес-процесса](/7%20%20Сеть%20в%20Linux/Inet4.png)

- Для соединения разных сетей (напр., 192.168.1.x и 192.168.2.x) используется маршрутизатор.
- Маршрутизатор имеет по одному IP-адресу в каждой подключённой к нему сети.
5. Настройка маршрутизации

![BPMN-схема бизнес-процесса](/7%20%20Сеть%20в%20Linux/Inet5.png)

- Шлюз (гейтвей) – это "дверь" из сети во внешний мир или в другую сеть.
- Конфигурация шлюза и маршрутов позволяет системам определять путь к нужному устройству или в интернет.
- Команда для добавления маршрута: ip route add.
6. Доступ в интернет
- Маршрутизатор, соединённый с интернетом, может быть настроен как шлюз по умолчанию для доступа к внешним сетям.
7. Управление сетевыми настройками



![BPMN-схема бизнес-процесса](/7%20%20Сеть%20в%20Linux/Inet5.png)

1. Команды:
- ip link: для управления интерфейсами.
- ip addr: для просмотра и изменения IP-адресов.
- ip route: для просмотра и добавления записей в таблицу маршрутизации.
- Важно помнить, что настройки сети сбрасываются при перезагрузке, если они не сохранены в системных файлах.