# 5.11 Упражнение - Особенности Bash

--- 

##Конспект

## Команды которые использовались

| Команда                                               | Результат / Описание                              | Пояснение                                                                                          |
|------------------------------------------------------|--------------------------------------------------|---------------------------------------------------------------------------------------------------|
| `echo "текст" > /home/d/temp/test.txt`               | Запись строки в файл, перезапись если существует | Создаёт новый файл `/home/d/temp/test.txt` или перезаписывает существующий                         |
| `cat /home/d/temp/test.txt`                          | Просмотр содержимого файла                        | Отображает содержимое файла в консоли                                                             |
| `tar -cvf /home/d/temp/archive.tar /home/d/temp/`    | Создание архива `.tar` каталога                   | Архивирует все файлы и папки внутри `/home/d/temp`                                                |
| `gzip /home/d/temp/archive.tar`                      | Сжатие архива gzip                               | Уменьшает размер файла архива                                                                      |
| `gzip -d /home/d/temp/horse.dat.gz`                  | Разжатие gzip файла                              | Восстанавливает `/home/d/temp/horse.dat` из сжатого файла                                         |
| `mv /home/d/temp/horse.dat /home/d/documents/`       | Перемещение файла в другую папку                 | Перемещает файл `horse.dat` в каталог `/home/d/documents/`                                        |
| `sudo find /home/d/ -name elephant.key -exec cp {} /home/d/caveof70s/ \;` | Поиск и копирование файла с правами sudo        | Находит файл `elephant.key` в домашней папке `d` и копирует в `/home/d/caveof70s/`                 |
| `find /home/d/temp/ -type f -name "*scroll" 2>/dev/null \| xargs grep -l "medicine"` | Поиск файлов с определённым окончанием и содержанием | В каталоге `/home/d/temp/` ищет файлы, которые заканчиваются на `scroll` и содержат слово `medicine`|
| `find /home/d/temp/ -type d -name animals 2>/dev/null`| Поиск директорий с названием `animals`           | Находит все директории `animals` внутри `/home/d/temp/`                                          |
| `find /home/d/temp/ -type f -mmin -120 2>/dev/null`   | Файлы, изменённые за последние 2 часа             | Находит файлы, обновлённые в последние 120 минут в `/home/d/temp/`                               |
| `grep -rl "172\.20\.20\.20" /etc > /home/d/temp/found_ip_files.txt` | Поиск и сохранение путей файлов с IP             | Ищет IP `172.20.20.20` в `/etc` и сохраняет список найденных файлов в `/home/d/temp/found_ip_files.txt`|
| `find /home/d/temp/ -type f -size -5k 2>/dev/null`    | Поиск файлов меньше 5 Кбайт                         | Ищет маленькие файлы в `/home/d/temp/`                                                           |
| `command 2> /home/d/temp/errors.log`                  | Перенаправление ошибок команды в файл             | Логирует ошибки выполнения команды в файл `/home/d/temp/errors.log`                               |
| `bzip2 -k /home/d/temp/test.txt`                      | Сжатие файла bzip2 с сохранением исходника        | Создаёт сжатый файл `test.txt.bz2`, исходный `test.txt` остаётся                                  |
| `cat /home/d/temp/file1.txt >> /home/d/temp/file2.txt`| Добавление содержимого одного файла в другой       | Объединяет содержимое `/home/d/temp/file1.txt` в конец `/home/d/temp/file2.txt`                   |
| `gzip /home/d/temp/file2.txt`                         | Сжатие текстового файла gzip                       | Создаёт `/home/d/temp/file2.txt.gz`                                                               |
| `gunzip /home/d/temp/file2.txt.gz`                    | Разжатие gzip-файла                               | Восстанавливает `/home/d/temp/file2.txt`                                                         |
| `xz /home/d/temp/file2.txt`                           | Сжатие файла xz                                  | Создаёт `/home/d/temp/file2.txt.xz`                                                               |
| `unxz /home/d/temp/file2.txt.xz`                      | Разжатие файла xz                                | Восстанавливает `/home/d/temp/file2.txt`                                                         |
| `wc -l /home/d/temp/test.txt`                         | Подсчёт строк файла                              | Выводит количество строк файла `/home/d/temp/test.txt`                                            |
| `grep "pattern" /home/d/temp/test.txt`                | Поиск строк по шаблону                            | Ищет `pattern` в файле `/home/d/temp/test.txt`                                                    |
| `zcat /home/d/temp/test.txt.gz | tee /home/d/temp/output.txt` | Чтение gzip-файла и вывод на экран и в файл      | Одновременно выводит содержимое сжатого файла и записывает его в файл `/home/d/temp/output.txt`   |


- Лабораторные задания по работе с консолью и основные команды Linux

### 1. Запись строки в новый файл
- Используйте перенаправление вывода команды для записи строки в новый файл. Если файл существует, его содержимое будет затерто.
- Проверьте содержимое файла с помощью cat.
### 2. Архивация и сжатие файлов
- Архивируйте и сжимайте файлы из каталога cowhouse. Используйте tar для архивации и gzip для сжатия.
- Проверьте создание сжатого архива.
### 3. Разжатие файла
- Разжмите файл horse.dat.gz в указанный каталог. Используйте gzip для разжатия.
### 4. Поиск и копирование файла
- Найдите файл elephant.key и скопируйте его в каталог caveof70s. Используйте sudo для доступа ко всем каталогам в системе.
### 5. Поиск файлов по шаблону и содержимому
- Найдите файлы, оканчивающиеся на скролл, содержащие слово medicine. Используйте find, grep, xargs для поиска и фильтрации файлов.
### 6. Поиск директорий и файлов по спецификации
- Найдите все директории с именем animals и файлы, модифицированные за последние два часа.
- Используйте ключ type для find при поиске директорий и ключ -mmin для поиска файлов по времени модификации.
### 7. Поиск файла с IP-адресом
- Найдите файл в директории /etc, содержащий IP 172.20.20.20, и сохраните путь к файлу. Используйте grep и перенаправление вывода.
### 8. Поиск файлов по размеру
- Используйте find с флагом -size для поиска файлов размером меньше 5 кБ.
### 9. Обработка ошибок и работа с архивами
- Перенаправьте ошибки выполнения команды в файл.
- Практика сжатия файлов с использованием bzip2 и сохранением исходных файлов.
### 10. Работа с текстовыми файлами
- Добавьте содержимое одного файла в другой.
- Сжатие и разжатие текстовых файлов без архивации (gzip, xz).
### 11. Анализ и фильтрация текста
- Подсчет строк в файле и фильтрация по паттерну с использованием wc и grep.
### 12. Чтение и параллельный вывод из сжатого файла
- Используйте zcat для чтения сжатого файла и одновременного вывода содержимого на экран и в файл.
Каждое задание подчеркивает важность знания и умения применять различные команды Unix/Linux для эффективной работы с файловой системой и текстовыми данными.
---