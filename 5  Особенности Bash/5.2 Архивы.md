# 5.2 Архивы

---

## Конспект

#### Команды, которые использовались

| Команда                   | Результат / Описание                    | Пояснение                                                                                     |
|---------------------------|---------------------------------------|-----------------------------------------------------------------------------------------------|
| `du -sk`                  | Показывает размер текущей директории  | Вывод суммарного размера файлов в текущей директории в килобайтах (без подробностей)           |
| `du -sk tmp`              | Показывает размер папки tmp            | Размер папки tmp в килобайтах                                                                 |
| `du -sh tmp`              | Показывает размер папки tmp в удобочитаемом формате | Размер папки tmp с указанием удобных единиц (Кб, Мб и т.п.)                                 |
| `ls -l`                   | Список файлов с подробной информацией | Выводит файлы и папки текущей директории с правами, владельцами, размером и датой изменения    |
| `ls -lh`                  | Список файлов с подробной информацией в удобочитаемом формате | Размер файлов отображается с удобными единицами (Кб, Мб)                                  |
| `ls -lh tmp`              | Список файлов папки tmp с удобочитаемым размером | Аналогично ls -lh, но для папки tmp                                                        |
| `clear`                   | Очистка экрана терминала               | Очищает текущий вывод терминала, делая экран пустым                                          |
| `tar -c`                  | Создает архив (без указания файла)     | Начинает создание архива, но должно указываться имя архива и файлы для упаковки               |
| `tar -c tmp`              | Создает архив из папки tmp              | Создаёт архив из папки tmp, вывод в stdout (требуется указать файл архива)                     |
| `tar -cf tmp.test.txt`    | Создает архив с именем tmp.test.txt    | Создаёт архив с указанным именем (но без файлов для добавления — команда неполная)            |
| `tar -cf test.txt`        | Создает архив с именем test.txt         | Создаёт архив test.txt, но без файлов для добавления                                         |
| `tar -cf test.tar test.txt` | Создает архив test.tar с файлом test.txt | Упаковка файла test.txt в архив test.tar                                                    |
| `ls -ltr test.tar`        | Выводит подробный список с сортировкой по времени для test.tar | Проверяет свойства созданного архива test.tar                                            |
| `tar -tf test.tar`        | Просмотр содержимого архива test.tar  | Показывает список файлов внутри архива test.tar                                             |
| `tar -xf test.tar`        | Распаковка архива test.tar             | Распаковывает содержимое архива test.tar в текущую директорию                                 |
| `tar -zcf test2.tar.gz test.txt` | Создает сжатый gzip архив test2.tar.gz с файлом test.txt | Упаковка с gzip-сжатием файла test.txt в архив test2.tar.gz                               |
| `ls -lthr`                | Подробный список файлов с сортировкой по обратному времени | Позволяет увидеть последние изменённые файлы сверху списка                                 |
| `gzip tmp`                | Сжатие файла или папки tmp              | Сжимает файл tmp с помощью gzip (если tmp папка — ошибка, gzip работает с файлами)           |
| `gunzip tmp`              | Распаковка сжатого файла tmp.gz         | Распаковывает gzip сжатый файл (ожидает файл с расширением .gz)                             |



### Проверка размера файла в Linux

<details> <summary style=" 
          display: inline-block; 
          padding: 4px 12px; 
          background-color: #1976d2; 
          color: white; font-weight: bold; border-radius: 6px; 
          cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.15); 
          transition: background-color 0.3s; font-size: 14px; 
          margin: 0 auto; text-align: center;" 
          onmouseover="this.style.backgroundColor='#1565c0'" 
          onmouseout="this.style.backgroundColor='#1976d2'" > 
          Показать/скрыть картинку </summary> <div style="text-align: center; margin-top: 10px;"> 
          <img src="/5  Особенности Bash/Archive.png" alt="Dbeaver" style="display: block; 
          margin: 0 auto; max-width: 90%; height: auto;"> </div> 
</details>

1. du (disk usage): Команда для проверки размера файла или каталога.

- du -sk: Показывает размер в килобайтах.
- du -sh: Предоставляет размер в человеко-читаемом формате (например, 1.5M).


2. ls -l: Используя опцию -h, показывает размер файла в человеко-читаемом формате.

<details> <summary style=" 
          display: inline-block; 
          padding: 4px 12px; 
          background-color: #1976d2; 
          color: white; font-weight: bold; border-radius: 6px; 
          cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.15); 
          transition: background-color 0.3s; font-size: 14px; 
          margin: 0 auto; text-align: center;" 
          onmouseover="this.style.backgroundColor='#1565c0'" 
          onmouseout="this.style.backgroundColor='#1976d2'" > 
          Показать/скрыть картинку </summary> <div style="text-align: center; margin-top: 10px;"> 
          <img src="/5  Особенности Bash/Archive2.png" alt="Dbeaver" style="display: block; 
          margin: 0 auto; max-width: 90%; height: auto;"> </div> 
</details>

### Работа с tar

1. tar (tape archive): Утилита для группировки файлов в архив.

<details> <summary style=" 
          display: inline-block; 
          padding: 4px 12px; 
          background-color: #1976d2; 
          color: white; font-weight: bold; border-radius: 6px; 
          cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.15); 
          transition: background-color 0.3s; font-size: 14px; 
          margin: 0 auto; text-align: center;" 
          onmouseover="this.style.backgroundColor='#1565c0'" 
          onmouseout="this.style.backgroundColor='#1976d2'" > 
          Показать/скрыть картинку </summary> <div style="text-align: center; margin-top: 10px;"> 
          <img src="/5  Особенности Bash/Archive3.png" alt="Dbeaver" style="display: block; 
          margin: 0 auto; max-width: 90%; height: auto;"> </div> 
</details>

- tar -c: Создание архива.
- -f: Указание имени архива.
- tar -tf: Просмотр содержимого архива.
- tar -xf: Извлечение содержимого архива.
- -z: Сжатие архива.

<details> <summary style=" 
          display: inline-block; 
          padding: 4px 12px; 
          background-color: #1976d2; 
          color: white; font-weight: bold; border-radius: 6px; 
          cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.15); 
          transition: background-color 0.3s; font-size: 14px; 
          margin: 0 auto; text-align: center;" 
          onmouseover="this.style.backgroundColor='#1565c0'" 
          onmouseout="this.style.backgroundColor='#1976d2'" > 
          Показать/скрыть картинку </summary> <div style="text-align: center; margin-top: 10px;"> 
          <img src="/5  Особенности Bash/Archive4.png" alt="Dbeaver" style="display: block; 
          margin: 0 auto; max-width: 90%; height: auto;"> </div> 
</details>

### Команды для сжатия

1. bzip2, gzip, xz: Инструменты для сжатия файлов.

<details> <summary style=" 
          display: inline-block; 
          padding: 4px 12px; 
          background-color: #1976d2; 
          color: white; font-weight: bold; border-radius: 6px; 
          cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.15); 
          transition: background-color 0.3s; font-size: 14px; 
          margin: 0 auto; text-align: center;" 
          onmouseover="this.style.backgroundColor='#1565c0'" 
          onmouseout="this.style.backgroundColor='#1976d2'" > 
          Показать/скрыть картинку </summary> <div style="text-align: center; margin-top: 10px;"> 
          <img src="/5  Особенности Bash/Archive5.png" alt="Dbeaver" style="display: block; 
          margin: 0 auto; max-width: 90%; height: auto;"> </div> 
</details>

- Влияют на размер сжатого файла: Тип данных, алгоритм сжатия, уровень сжатия.
- Добавляют расширение файла после сжатия: .bz2, .gz, .xz.

### Распаковка и чтение сжатых файлов

- Распаковка: Используйте bunzip2, gunzip, unxz для распаковки.
- Чтение без распаковки: zcat, bzcat, xzcat позволяют читать сжатый файл.